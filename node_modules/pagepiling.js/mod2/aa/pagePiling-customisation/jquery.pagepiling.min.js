/** * pagepiling.js customization. * * https://github.com/alvarotrigo/pagePiling.js * * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo */(function(c,l,m,I){var z=c(m),wa=c(l);c.fn.pagepiling=function(xa){function ya(){c(".pp-section").each(function(){Y(c(this),"0%")})}function za(a,b,e){b.wrapAll('<div class="pp-slidesContainer" />');b.parent().wrap('<div class="pp-slides" />');1<e&&(d.controlArrows&&Aa(a),d.slidesNavigation&&Ba(a,e));b.each(function(b){c(this).data("index",b);c(this).css("z-index",k.slideZindex(a,c(this)));k.setOriginalPosition("slides",c(this));d.verticalCentered&&Z(c(this))});e=a.find(".pp-slide.active");e.length&&(0!==c(".pp-section.active").index(".pp-section")||0===c(".pp-section.active").index(".pp-section")&&0!==e.index())?(J(e,"0%"),a.hasClass("active")&&(A=e)):(b.eq(0).addClass("active"),J(b.eq(0),"0%"),a.hasClass("active")&&(A=b.eq(0)))}function Aa(a){a.find(".pp-slides").after('<div class="pp-controlArrow pp-prev"></div><div class="pp-controlArrow pp-next"></div>');"#fff"!=d.controlArrowColor&&(a.find(".pp-controlArrow.pp-next").css("border-color","transparent transparent transparent "+d.controlArrowColor),a.find(".pp-controlArrow.pp-prev").css("border-color","transparent "+d.controlArrowColor+" transparent transparent"));d.loopHorizontal||a.find(".pp-controlArrow.pp-prev").hide()}function Ba(a,b){a.append('<div class="pp-slidesNav"><ul></ul></div>');var e=a.find(".pp-slidesNav");e.addClass(d.slidesNavPosition);for(var c=0;c<b;c++)e.find("ul").append('<li><a href="#"><span></span></a></li>');e.css("margin-left","-"+e.width()/2+"px");e.find("li").first().find("a").addClass("active")}function Z(a){a.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function aa(a){var b=c(".pp-section.active").index(".pp-section");a=a.index(".pp-section");return b>a?"up":"down"}function B(a,b){var e={destination:a,callback:b,activeSection:c(".pp-section.active"),anchorLink:a.data("anchor"),sectionIndex:a.index(".pp-section"),activeSlide:a.find(".pp-slide.active"),toMove:a,yMovement:aa(a),leavingSection:c(".pp-section.active").index(".pp-section")+1};if(!e.activeSection.is(a)){if(e.activeSlide.length)var h=e.activeSlide.data("anchor"),f=e.activeSlide.index();e.destination.addClass("active").siblings().removeClass("active");e.sectionsToMove=k.getSectionsToMove(e);e=k.getScrollingOptions(e);c.isFunction(d.onLeave)&&!1===d.onLeave.call(e.activeSection,e.leavingSection,e.sectionIndex+1,e.yMovement)||(R(f,h,e.anchorLink,e.sectionIndex),Ca(e),ba(e.anchorLink,e.sectionIndex),t=e.anchorLink,ca=(new Date).getTime())}}function Ca(a){d.css3?(k.onPerform(a),a.sectionsToMove.each(function(){w(c(this),a.translate3d,0<d.scrollingSpeed)}),d.scrollingSpeed?S=setTimeout(function(){K(a)},d.scrollingSpeed):K(a)):(k.beforeMoveUp(a),a.scrollOptions=n(a.scrolling),d.scrollingSpeed?a.animateSection.animate(a.scrollOptions,d.scrollingSpeed,d.easing,function(){da(a);K(a)}):(a.animateSection.css(n(a.scrolling)),S=setTimeout(function(){da(a);K(a)},400)))}function ea(a){var b=c(".pp-section.active").find(".pp-slides"),e=b.find(".pp-slide").length;if(!(!b.length||x||2>e)){var e=b.find(".pp-slide.active"),h=null,h="prev"===a?e.prev(".pp-slide"):e.next(".pp-slide");if(!h.length){if(!d.loopHorizontal)return;h="prev"===a?e.siblings(":last"):e.siblings(":first")}x=!0;T(b,h)}}function T(a,b){a.find(".pp-slide");b.position();var e=b.index(),h=a.closest(".pp-section"),f=h.index(".pp-section"),g=h.data("anchor"),u=h.find(".pp-slidesNav"),m=L(b),l=h.find(".pp-slide.active"),p=l.index(),q;q=p==e?"none":p>e?"left":"right";if(d.onSlideLeave&&"none"!==q&&c.isFunction(d.onSlideLeave)&&!1===d.onSlideLeave.call(l,g,f+1,p,q,e))x=!1;else{b.addClass("active").siblings().removeClass("active");var n=k.getSlidesToMove(h,l,p,b,q);!d.loopHorizontal&&d.controlArrows&&(h.find(".pp-controlArrow.pp-prev").toggle(0!==e),h.find(".pp-controlArrow.pp-next").toggle(!b.is(":last-child")));h.hasClass("active")&&R(e,m,g,f);var h=k.getHorizontalScrollingOptions(q,b,l),t=h.translate3d,v=h.scrolling,h=h.animateSection,r=function(){c.isFunction(d.afterSlideLoad)&&d.afterSlideLoad.call(b,g,f+1,m,e);k.afterSlideLoads(q,n,l,v);x=!1};k.beforeMoveRight(q,n,l,v);d.css3?(k.onHorizontalPerform(h,t,0<d.scrollingSpeed),n.each(function(){w(c(this),t,0<d.scrollingSpeed)}),fa=setTimeout(function(){r()},d.scrollingSpeed,d.easing)):(k.beforeMoveLeft(q,n,l,v),0<d.scrollingSpeed?h.animate({left:v},d.scrollingSpeed,d.easing,function(){k.readjustHorizontalSections(q,n,v);r()}):(h.css("left",v),setTimeout(function(){k.readjustHorizontalSections(q,n,v);r()},400)));u.find(".active").removeClass("active");u.find("li").eq(e).find("a").addClass("active")}}function ga(){ha();clearTimeout(U);U=setTimeout(function(){c.isFunction(d.afterResize)&&d.afterResize.call(g)},350)}function ha(){var a=d.responsive||d.responsiveWidth,b=d.responsiveHeight;a&&f.setResponsive(z.width()<a);b&&(g.hasClass("pp-responsive")||f.setResponsive(z.height()<b))}function Da(a){var b="all "+d.scrollingSpeed+"ms "+d.easingcss3;a.removeClass("fp-notransition");return a.css({"-webkit-transition":b,transition:b})}function R(a,b,e,c){c="";d.anchors.length&&!d.lockAnchors&&(a?("undefined"!==typeof e&&(c=e),"undefined"===typeof b&&(b=a),V=b,ia(c+"/"+b)):("undefined"!==typeof a&&(V=b),ia(e)));ja()}function L(a){var b=a.data("anchor");a=a.index();"undefined"===typeof b&&(b=a);return b}function M(a){var b=a.data("anchor");a=a.index();"undefined"===typeof b&&(b=a);return b}function K(a){d.css3||"down"!=a.yMovement||a.sectionsToMove.each(function(b){b!=a.destination.index(".pp-section")&&c(this).css(n(a.scrolling))});c.isFunction(d.afterLoad)&&d.afterLoad.call(this,a.anchorLink,a.sectionIndex+1);c.isFunction(a.callback)&&a.callback.call(this)}function da(a){"up"===a.yMovement&&a.sectionsToMove.each(function(b){c(this).css(n(a.scrolling))})}function n(a){return"vertical"===d.direction?{top:a}:{left:a}}function Y(a,b){d.css3?w(a,"translate3d(0, "+b+", 0)",!1):a.css("top",b)}function J(a,b){d.css3?w(a,"translate3d("+b+", 0, 0)",!1):a.css("left",b)}function ia(a){if(d.recordHistory)ka&&a==la||(location.hash=a);else if(W)history.replaceState(I,I,"#"+a);else{var b=m.location.href.split("#")[0];m.location.replace(b+"#"+a)}}function Ea(){var a=M(C);if(A.index())var b=L(A),a=a+"/"+b;return a}function ja(){var a=c(".pp-section.active"),b=a.find(".pp-slide.active"),e=M(a),a=L(b),e=String(e);b.length&&(e=e+"-"+a);e=e.replace("/","-").replace("#","");r[0].className=r[0].className.replace(RegExp("\\b\\s?pp-viewing-[^\\s]+\\b","g"),"");r.addClass("pp-viewing-"+e)}function N(a,b){a=ma(a);"undefined"===typeof b&&(b=0);a===t||a.hasClass("active")?na(a,b):B(a,function(){na(a,b)})}function na(a,b){if("undefined"!==typeof b){var e=a.find(".pp-slides"),c;c=a.find(".pp-slides");var d=c.find('.pp-slide[data-anchor="'+b+'"]');d.length||(d=c.find(".pp-slide").eq(b));c=d;c.length&&T(e,c)}}function ma(a){var b=c('.pp-section[data-anchor="'+a+'"]');b.length||(b=c(".pp-section").eq(a-1));return b}function O(){return(new Date).getTime()-ca<600+d.scrollingSpeed?!0:!1}function oa(){if(!X&&!d.lockAnchors){var a=m.location.hash.replace("#","").split("/"),b=a[0],a=a[1],e="undefined"===typeof t,c="undefined"===typeof t&&"undefined"===typeof a&&!x;b.length?(b&&b!==t&&!e||c||!x&&V!=a)&&N(b,a):(b=M(C),a=c?C.find(".pp-slide.active"):L(A),ka=!0,N(b,a))}}function w(a,b,c){c?Da(a):a.addClass("fp-notransition");a.css({"-webkit-transform":b,"-moz-transform":b,"-ms-transform":b,transform:b});setTimeout(function(){a.removeClass("fp-notransition")},10)}function y(a){if(!O()&&d.autoScrolling){a=m.event||a;a=Math.max(-1,Math.min(1,a.wheelDelta||-a.deltaY||-a.detail));var b=c(".pp-section.active").filter(".pp-scrollable");0>a?P("down",b):P("up",b);return!1}d.fitToSection&&p.stop()}function pa(){var a;if(!d.autoScrolling){for(var b=z.scrollTop(),e=0,h=Math.abs(b-l.querySelectorAll(".pp-section")[0].offsetTop),f=l.querySelectorAll(".pp-section"),g=0;g<f.length;++g){var u=Math.abs(b-f[g].offsetTop);u<h&&(e=g,h=u)}a=c(f).eq(e);if(!a.hasClass("active")){X=!0;b=c(".pp-section.active");e=b.index(".pp-section")+1;h=aa(a);f=a.data("anchor");g=a.index(".pp-section")+1;u=a.find(".pp-slide.active");if(u.length)var k=u.data("anchor"),m=u.index();O()||(a.addClass("active").siblings().removeClass("active"),c.isFunction(d.onLeave)&&d.onLeave.call(b,e,g,h),c.isFunction(d.afterLoad)&&d.afterLoad.call(a,f,g),ba(f,g-1),d.anchors.length&&(t=f,R(m,k,f,g)));clearTimeout(qa);qa=setTimeout(function(){X=!1},100)}d.fitToSection&&(clearTimeout(ra),ra=setTimeout(function(){!O()&&d.fitToSection&&p.animate({scrollTop:a.position().top})},d.fitToSectionDelay))}}function P(a,b){var c,d;"down"==a?(c="bottom",d=f.moveSectionDown):(c="top",d=f.moveSectionUp);if(0<b.length)if(c="top"===c?!b.scrollTop():"bottom"===c?b.scrollTop()+1+b.innerHeight()>=b[0].scrollHeight:void 0,c)d();else return!0;else d()}function sa(){return m.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function ta(a){var b=[];b.y="undefined"!==typeof a.pageY&&(a.pageY||a.pageX)?a.pageY:a.touches[0].pageY;b.x="undefined"!==typeof a.pageX&&(a.pageY||a.pageX)?a.pageX:a.touches[0].pageX;return b}function ua(a){return"undefined"===typeof a.pointerType||"mouse"!=a.pointerType}function Fa(a){a=a.originalEvent;ua(a)&&(a=ta(a),D=a.y,E=a.x)}function Ga(a){var b=a.originalEvent;if(!va(a.target)&&ua(b)){var e=c(".pp-section.active").filter(".pp-scrollable");e.length||a.preventDefault();O()||(a=ta(b),F=a.y,G=a.x,Math.abs(E-G)>Math.abs(D-F)?Math.abs(E-G)>c(m).width()/100*d.touchSensitivity&&(E>G?f.moveSlideRight():G>E&&f.moveSlideLeft()):Math.abs(D-F)>c(m).height()/100*d.touchSensitivity&&(D>F?P("down",e):F>D&&P("up",e)))}}function va(a,b){b=b||0;var e=c(a).parent();return b<d.normalScrollElementTouchThreshold&&e.is(d.normalScrollElements)?!0:b==d.normalScrollElementTouchThreshold?!1:va(e,++b)}function Ha(){r.append('<div id="pp-nav"><ul></ul></div>');var a=c("#pp-nav");a.addClass(d.navigation.position);for(var b=0;b<c(".pp-section").length;b++){var e="";d.anchors.length&&(e=d.anchors[b]);var e='<li><a href="#'+e+'"><span></span></a>',h=d.navigation.tooltips[b];"undefined"!==typeof h&&""!==h&&(e+='<div class="pp-tooltip '+d.navigation.position+'">'+h+"</div>");e+="</li>";a.find("ul").append(e)}a.find(".pp-tooltip").css("color",d.navigation.textColor);c("#pp-nav").css("margin-top","-"+c("#pp-nav").height()/2+"px");c("#pp-nav").find("li").eq(c(".pp-section.active").index(".pp-section")).find("a").addClass("active");a.find("span").css("border-color",d.navigation.bulletsColor)}function ba(a,b){d.menu&&(c(d.menu).find(".active").removeClass("active"),c(d.menu).find('[data-menuanchor="'+a+'"]').addClass("active"));d.navigation&&(c("#pp-nav").find(".active").removeClass("active"),a?c("#pp-nav").find('a[href="#'+a+'"]').addClass("active"):c("#pp-nav").find("li").eq(b).find("a").addClass("active"))}function Ia(){var a=l.createElement("p"),b,c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};l.body.insertBefore(a,null);for(var d in c)a.style[d]!==I&&(a.style[d]="translate3d(1px,1px,1px)",b=m.getComputedStyle(a).getPropertyValue(c[d]));l.body.removeChild(a);return b!==I&&0<b.length&&"none"!==b}function Ja(){c("#pp-nav, .pp-slidesNav, .pp-controlArrow").remove();c(".pp-section").css({height:"","background-color":"",padding:"","z-index":"auto"});g.css({height:"",position:"","-ms-touch-action":"","touch-action":"",overflow:""});c(".pp-section, .pp-slide").each(function(){c(this).removeData("index").removeAttr("style").removeData("index").removeAttr("data-index").removeData("anchor").removeAttr("data-anchor")});d.menu&&(c(d.menu).find("[data-menuanchor]").removeClass("active"),c(d.menu).find("[data-menuanchor]").removeData("menuanchor"));p.css({overflow:"",height:""});c("html").removeClass("pp-enabled");c.each(r.get(0).className.split(/\s+/),function(a,b){0===b.indexOf("pp-viewing")&&r.removeClass(b)});c(".pp-section, .pp-slide").each(function(){c(this).removeClass("pp-table active")});g.find(".pp-tableCell, .pp-slidesContainer, .pp-slides").each(function(){c(this).replaceWith(this.childNodes)});p.scrollTop(0)}function Q(a,b,c){d[a]=b;"internal"!==c&&(H[a]=b)}function Ka(){var a=this;a.setOriginalPosition=function(a,c){"sections"==a?c.hasClass("active")||Y(c,"100%"):J(c,"100%")};a.sectionZindex=function(a){return a.index(".pp-section")+1};a.slideZindex=function(a,c){return c.index()+1};a.getScrollingOptions=function(b){"down"===b.yMovement?(b.translate3d="translate3d(0px, 0px, 0px)",b.scrolling="0%",b.animateSection=b.destination):(b.translate3d=a.getTranslate3d(),b.scrolling="100%",b.animateSection=b.activeSection);return b};a.beforeMoveUp=function(a){"up"==a.yMovement&&a.sectionsToMove.each(function(e){c(this).data("index")!=a.activeSection.data("index")&&c(this).css(n(a.scrolling))})};a.onPerform=function(a){};a.afterSectionLoads=function(a){d.css3||"down"!=a.yMovement||a.sectionsToMove.each(function(e){e!=a.destination.index(".pp-section")&&c(this).css(n(a.scrolling))})};a.getSectionsToMove=function(a){var e=a.activeSection.index(".pp-section");return"down"===a.yMovement?c(".pp-section").map(function(d){if(d<=a.destination.index(".pp-section")&&d>e)return c(this)}):c(".pp-section").map(function(d){if(d>a.destination.index(".pp-section")&&d<=e)return c(this)})};a.getSlidesToMove=function(a,d,f,g,k){return"right"===k?a.find(".pp-slide").map(function(a){if(a<=g.index()&&a>f)return c(this)}):a.find(".pp-slide").map(function(a){if(a>g.index()&&a<=f)return c(this)})};a.getTranslate3d=function(){return"vertical"!==d.direction?"translate3d(100%, 0px, 0px)":"translate3d(0px, 100%, 0px)"};a.getHorizontalScrollingOptions=function(a,c,d){var f={};return f="right"===a?{translate3d:"translate3d(0px, 0px, 0px)",scrolling:"0%",animateSection:c}:{translate3d:"translate3d(100%, 0px, 0px)",scrolling:"100%",animateSection:d}};a.afterSlideLoads=function(a,e,f,g){d.css3||e.each(function(a){c(this).data("index")!=f.data("index")&&c(this).css("left",g)})};a.beforeMoveLeft=function(a,d,f,g){"left"==a&&d.each(function(a){c(this).data("index")!=f.data("index")&&c(this).css("left",g)})};a.onHorizontalPerform=function(a,c,d){};a.beforeMoveRight=function(a,c,d,f){};a.readjustHorizontalSections=function(a,d,f){"right"===a&&d.each(function(a){c(this).css("left",f)})};a.getTopLayer=function(){return c(".pp-section").last()}}var p=c("html, body"),r=c("body"),f=c.fn.pagepiling,g=c(this),t,V,ca=0,W="ontouchstart"in m||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,D=0,E=0,F=0,G=0,x=!1,k=new function(){var a=this;a.setOriginalPosition=function(a,c){"slides"==a&&J(c,"0%")};a.sectionZindex=function(a){a=a.index(".pp-section");return c(".pp-section").length-a};a.slideZindex=function(a,c){var d=c.index();return a.find(".pp-slide").length-d};a.getScrollingOptions=function(b){"down"===b.yMovement?(b.translate3d=a.getTranslate3d(),b.scrolling="-100%",d.css3||a.beforeMoveDown(b),b.animateSection=b.activeSection):(b.translate3d="translate3d(0px, 0px, 0px)",b.scrolling="0",b.animateSection=b.destination);return b};a.beforeMoveDown=function(a){a.sectionsToMove.each(function(d){d!=a.activeSection.index(".pp-section")&&c(this).css(n(a.scrolling))})};a.onPerform=function(a){w(a.animateSection,a.translate3d,0<d.scrollingSpeed)};a.beforeMoveUp=function(a){};a.afterSectionLoads=function(a){};a.getSectionsToMove=function(a){return"down"===a.yMovement?c(".pp-section").map(function(d){if(d<a.destination.index(".pp-section"))return c(this)}):c(".pp-section").map(function(d){if(d>a.destination.index(".pp-section"))return c(this)})};a.getSlidesToMove=function(a,d,f,g,k){return"right"===k?a.find(".pp-slide").map(function(a){if(a<g.index())return c(this)}):a.find(".pp-slide").map(function(a){if(a>g.index())return c(this)})};a.getTranslate3d=function(){return"vertical"!==d.direction?"translate3d(-100%, 0px, 0px)":"translate3d(0px, -100%, 0px)"};a.getHorizontalScrollingOptions=function(a,c,d){var f={};return f="right"===a?{translate3d:"translate3d(-100%, 0px, 0px)",scrolling:"-100%",animateSection:d}:{translate3d:"translate3d(0px, 0px, 0px)",scrolling:"0%",animateSection:c}};a.afterSlideLoads=function(a,c,d){};a.beforeMoveLeft=function(a,c,d,f){};a.beforeMoveRight=function(a,e,f,g){d.css3||"right"!==a||e.each(function(a){a!=f.data("index")&&c(this).css("left",g)})};a.onHorizontalPerform=function(a,c,d){w(a,c,d)};a.readjustHorizontalSections=function(a,d,f){"left"===a&&d.each(function(a){c(this).css("left",f)})};a.getTopLayer=function(){return c(".pp-section").first()}},C=c(".pp-section.active"),A=C.find(".pp-slide.active"),la,ka=!1,U,S,fa,qa,ra,d=c.extend(!0,{type:"normal",direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],lockAnchors:!1,scrollingSpeed:1E3,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1E3,easing:"easeInQuart",easingcss3:"cubic-bezier(0.550, 0.085, 0.000, 0.990)",loopBottom:!1,loopHorizontal:!0,loopTop:!1,css3:!0,navigation:{textColor:"#fff",bulletsColor:"#000",position:"right",tooltips:[]},slidesNavigation:!1,slidesNavPosition:"bottom",normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,sectionSelector:".section",slideSelector:".slide",controlArrows:!0,keyboardScrolling:!0,animateAnchor:!1,recordHistory:!0,responsiveWidth:0,responsiveHeight:0,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterSlideLoad:null,onSlideLeave:null},xa),H=c.extend(!0,{},d);c.extend(c.easing,{easeInQuart:function(a,b,c,d,f){return d*(b/=f)*b*b*b+c}});"inverted"==d.type&&(k=new Ka);f.setAutoScrolling=function(a,b){Q("autoScrolling",a,b);var e=c(".pp-section.active"),h=M(e);d.autoScrolling&&!d.scrollBar?(p.css({overflow:"hidden",height:"100%"}),f.setRecordHistory(H.recordHistory,"internal"),g.css({"-ms-touch-action":"none","touch-action":"none"}),c(".pp-section").css("position",""),g.scrollTop(0),k.getTopLayer().addClass("active").siblings().removeClass("active"),e.length&&f.silentMoveTo(h)):(p.css({overflow:"visible",height:"100%"}),f.setRecordHistory(!1,"internal"),g.css({"-ms-touch-action":"","touch-action":"",overflow:"visible"}),ya(),c(".pp-section").css("position","relative"),g.scrollTop(0),e.length&&p.scrollTop(e.position().top))};f.setRecordHistory=function(a,b){Q("recordHistory",a,b)};f.setScrollingSpeed=function(a,b){Q("scrollingSpeed",a,b)};f.setFitToSection=function(a,b){Q("fitToSection",a,b)};f.setLockAnchors=function(a){d.lockAnchors=a};f.setMouseWheelScrolling=function(a){a?g.get(0).addEventListener?(g.get(0).addEventListener("mousewheel",y,!1),g.get(0).addEventListener("wheel",y,!1)):g.get(0).attachEvent("onmousewheel",y):g.get(0).addEventListener?(g.get(0).removeEventListener("mousewheel",y,!1),g.get(0).removeEventListener("wheel",y,!1)):g.get(0).detachEvent("onmousewheel",y)};f.setAllowScrolling=function(a){a?(f.setMouseWheelScrolling(!0),W&&(a=sa(),g.off("touchstart "+a.down).on("touchstart "+a.down,Fa),g.off("touchmove "+a.move).on("touchmove "+a.move,Ga))):(f.setMouseWheelScrolling(!1),W&&(a=sa(),g.off("touchstart "+a.down),g.off("touchmove "+a.move)))};f.setKeyboardScrolling=function(a){d.keyboardScrolling=a};f.moveSectionUp=function(){var a=c(".pp-section.active").prev(".pp-section");!a.length&&d.loopTop&&(a=c(".pp-section").last());a.length&&B(a)};f.moveSectionDown=function(){var a=c(".pp-section.active").next(".pp-section");!a.length&&d.loopBottom&&(a=c(".pp-section").first());a.length&&B(a)};f.silentMoveTo=function(a,b){f.setScrollingSpeed(0,"internal");f.moveTo(a,b);f.setScrollingSpeed(H.scrollingSpeed,"internal")};f.moveTo=function(a,b){var c=ma(a);"undefined"!==typeof b?N(a,b):0<c.length&&B(c)};f.moveSlideRight=function(){ea("next")};f.moveSlideLeft=function(){ea("prev")};f.setResponsive=function(a){var b=g.hasClass("pp-responsive");a?b||(f.setAutoScrolling(!1,"internal"),f.setFitToSection(!1,"internal"),c("#pp-nav").hide(),g.addClass("pp-responsive")):b&&(f.setAutoScrolling(H.autoScrolling,"internal"),f.setFitToSection(H.autoScrolling,"internal"),c("#pp-nav").show(),g.removeClass("pp-responsive"))};(function(){c(d.sectionSelector).each(function(){c(this).addClass("pp-section")});c(d.slideSelector).each(function(){c(this).addClass("pp-slide")})})();d.css3&&(d.css3=Ia());g.removeClass("pp-destroyed");c(g).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"});f.setAllowScrolling(!0);g.addClass("pagepiling-wrapper");c("html").addClass("pp-enabled");p.css({overflow:"hidden",height:"100%"});ha();c(".pp-section").each(function(a){var b=c(this),e=b.find(".pp-slide"),f=e.length;c(this).attr("data-index",a);c(this).css("z-index",k.sectionZindex(b));a||0!==c(".pp-section.active").length||(c(this).addClass("active"),C=c(this));k.setOriginalPosition("sections",b);"undefined"!==typeof d.anchors[a]&&c(this).attr("data-anchor",d.anchors[a]);"undefined"!==typeof d.sectionsColor[a]&&c(this).css("background-color",d.sectionsColor[a]);0<f?za(b,e,f):d.verticalCentered&&!c(this).hasClass("pp-scrollable")&&Z(c(this))}).promise().done(function(){c.isEmptyObject(d.navigation)||Ha();la=Ea();ja();c(m).on("load",function(){var a=m.location.hash.replace("#","").split("/"),b=a[0],a=a[1];b&&(d.animateAnchor?N(b,a):f.silentMoveTo(b,a))});c.isFunction(d.afterRender)&&d.afterRender.call(this)});z.resize(ga);c(m).on("hashchange",oa);c(l).keydown(function(a){var b=c(":focus");if(!b.is("textarea")&&!b.is("input")&&!b.is("select")&&d.keyboardScrolling)switch(-1<c.inArray(a.which,[40,38,32,33,34])&&a.preventDefault(),b=a.shiftKey,a.which){case 38:case 33:f.moveSectionUp();break;case 32:if(b){f.moveSectionUp();break}case 40:case 34:f.moveSectionDown();break;case 36:f.moveTo(1);break;case 35:f.moveTo(c(".pp-section").length);break;case 37:"horizontal"==d.direction?f.moveSectionUp():f.moveSlideLeft();break;case 39:"horizontal"==d.direction?f.moveSectionDown():f.moveSlideRight()}});d.normalScrollElements&&(c(l).on("mouseenter",d.normalScrollElements,function(){f.setMouseWheelScrolling(!1)}),c(l).on("mouseleave",d.normalScrollElements,function(){f.setMouseWheelScrolling(!0)}));var X=!1;z.on("scroll",pa);c(l).on("click touchstart","#pp-nav a",function(a){a.preventDefault();a=c(this).parent().index();B(c(".pp-section").eq(a))});wa.on("click touchstart",".pp-slidesNav a",function(a){a.preventDefault();a=c(this).closest(".pp-section").find(".pp-slides");var b=a.find(".pp-slide").eq(c(this).closest("li").index());T(a,b)});c(".pp-section").on("click touchstart",".pp-controlArrow",function(){c(this).hasClass("pp-prev")?f.moveSlideLeft():f.moveSlideRight()});f.destroy=function(a){f.setMouseWheelScrolling(!1);f.setKeyboardScrolling(!1);g.addClass("pp-destroyed");clearTimeout(U);clearTimeout(fa);clearTimeout(S);c(m).off("hashchange",oa).off("scroll",pa).off("resize",ga);c(l).off("click","#pp-nav a").off("mouseenter","#pp-nav li").off("mouseleave","#pp-nav li").off("click",".pp-slidesNav a").off("mouseover",d.normalScrollElements).off("mouseout",d.normalScrollElements);a&&Ja()}}})(jQuery,document,window);